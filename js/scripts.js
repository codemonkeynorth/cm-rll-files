parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Dmf6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=!0,r={active_course:null,current_lesson:null,current_lesson_page:null,courses:[],lessons:[]},s={init:function(r){console.log("ProgressTracker::init"),e=r},loadProgress:function(){var s=null,o=localStorage.getItem("rll_progress");if(o){if(e){var n=atob(o);s=JSON.parse(n)}else s=JSON.parse(o);r=s}return JSON.parse(JSON.stringify(r))},saveProgress:function(){var s;console.log("ProgressTracker::saveProgress",r);var o=JSON.stringify(r);(s=o,e)&&(s=btoa(o));localStorage.setItem("rll_progress",s)},setCourseProgress:function(e,s){console.log("ProgressTracker::setCourseProgress",e,s);var o=r.courses.findIndex(function(r){return r.slug===e});o>-1?r.courses[o]=s:r.courses.push(s)},getCourseProgress:function(e){console.log("ProgressTracker::getCourseProgress",e),console.log("_progress",r);var s=r.courses.find(function(r){return r.slug===e});return s?JSON.parse(JSON.stringify(s)):null},setActiveCourse:function(e){r.active_course=e},getActiveCourse:function(){return r.active_course},setCurrentLesson:function(e){console.log("ProgressTracker::setCurrentLesson",e),r.current_lesson=e},getCurrentLesson:function(){return r.current_lesson},setCurrentLessonPage:function(e){console.log("ProgressTracker::setCurrentLessonPage",e),r.current_lesson_page=e},setLessonProgress:function(e,s){console.log("ProgressTracker::setLessonProgress",e,s);var o=r.lessons.findIndex(function(r){return r.slug===e});o>-1?r.lessons[o]=s:r.lessons.push(s)},getLessonProgress:function(e){console.log("ProgressTracker::getLessonProgress",e);var s=r.lessons.find(function(r){return r.slug===e});return s?JSON.parse(JSON.stringify(s)):null},setCurrentTopic:function(e){r.current_topic=e},getCurrentTopic:function(){return r.current_topic}},o=s;exports.default=o;
},{}],"UFLO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../ProgressTracker"));function r(e){return e&&e.__esModule?e:{default:e}}var t={init:function(){e.default.loadProgress(),e.default.setCurrentTopic(null),e.default.setCurrentLesson(null),e.default.setCurrentLessonPage(null),e.default.saveProgress()}},u=t;exports.default=u;
},{"../ProgressTracker":"Dmf6"}],"yxKm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={getPageType:function(){return $("[data-page-type]").data("page-type")},getPageSlug:function(e,t){var a=t;a||(a=window.location.href);var r=a.lastIndexOf("/");return a.substring(r+1,a.length)}},t=e;exports.default=t;
},{}],"FzvI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,t=l(require("../Navigation")),r=l(require("../ProgressTracker"));function l(e){return e&&e.__esModule?e:{default:e}}var u={init:function(){console.log("TopicPage::init"),e=t.default.getPageSlug("topic-level-1"),console.log("_slug",e),r.default.loadProgress(),r.default.setCurrentTopic(e),r.default.setActiveCourse(null),r.default.setCurrentLesson(null),r.default.setCurrentLessonPage(null),r.default.saveProgress()}},o=u;exports.default=o;
},{"../Navigation":"yxKm","../ProgressTracker":"Dmf6"}],"jTVB":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,s,n){return s&&t(e.prototype,s),n&&t(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(e,t){return console.log("copyCourseProgressToCourseData"),t},o=function(){function t(s){e(this,t),this.slug=s}return s(t,[{key:"initialise",value:function(e){this.lessons=e,this.progress=0}},{key:"sync",value:function(e){return console.log("sync"),e=e?n(e,this.data):this.data}},{key:"data",get:function(){return{slug:this.slug,lessons:this.lessons,progress:this.progress}}}]),t}(),r=o;exports.default=r;
},{}],"Y4rh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,s,t,o=r(require("../Navigation")),a=r(require("../ProgressTracker")),l=r(require("../models/Course"));function r(e){return e&&e.__esModule?e:{default:e}}var n={_course_progress:null,initialiseLessonData:function(){return $(".courselink1").map(function(e,s){var t=$(s),a=o.default.getPageSlug("lesson",t.attr("href")),l=t.closest(".w-dyn-item"),r=l.find(".lesson-data").find("[data-lesson-page-slug]"),n=l.find(".lesson-data-extra").find("[data-last-page-in-lesson]"),u=r.data("lesson-page-slug"),g=r.data("lesson-page-total")||1,i=n.data("last-page-in-lesson");return console.log("lesson_page_slug",u),console.log("lesson_page_total",g),console.log("last_page",i),{slug:a,total_pages:g,progress:0,last_page:i}}).get()},updateCourseProgress:function(){var s=new l.default(e),o=this.initialiseLessonData();return console.log("lessons",o),s.initialise(o),t=a.default.getCourseProgress(e),console.log("_course_progress",t),t=s.sync(t),a.default.setCourseProgress(e,t),!0,!0},init:function(){console.log("CoursePageController::init"),e=o.default.getPageSlug("course"),s=a.default.loadProgress(),a.default.setCurrentLesson(null),a.default.setCurrentLessonPage(null),a.default.setCurrentTopic(null),a.default.setActiveCourse(e),this.updateCourseProgress()&&a.default.saveProgress()}},u=n;exports.default=u;
},{"../Navigation":"yxKm","../ProgressTracker":"Dmf6","../models/Course":"jTVB"}],"wY3z":[function(require,module,exports) {
"use strict";function s(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function e(s,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(s,n.key,n)}}function o(s,o,n){return o&&e(s.prototype,o),n&&e(s,n),s}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n,r=function(s,e){return console.log("copyLessonProgressToLessonPagesData(lessonProgress)",s),s.pages?(console.log("lessonProgress.pages",s.pages),console.log("lessonData",e),s.pages.forEach(function(s,o){var n=e.pages.find(function(e){return e.slug===s.slug});n&&(n.progress=s.progress)})):console.log("no lessonProgress.pages"),e},t=function(s,e){return console.log("copyDataToLessonProgress",s),console.log("lessonProgress",e),s.pages.forEach(function(s,o){var n=e.pages.find(function(e){return e.slug===s.slug});console.log("lessondata page",o,s),n?n.progress=s.progress:e.pages.push({slug:s.slug,progress:0})}),e},a=function(){function e(o,r){s(this,e),n=r,this.slug=o,this.progress=0,this.pages=[]}return o(e,[{key:"initialise",value:function(s){console.log("Lesson:: initialise main page"),this.pages=s}},{key:"sync",value:function(s){return console.log("Lesson::sync",s),s?(this.data=r(s,this.data),s=t(this.data,s)):s=this.data,console.log("=> ",s),s}},{key:"data",get:function(){return{slug:this.slug,progress:this.progress,pages:this.pages}},set:function(s){this.slug=s.slug,this.progress=s.progress,this.pages=s.pages}}]),e}(),g=a;exports.default=g;
},{}],"HZt4":[function(require,module,exports) {
"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}var r;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=function(){function n(t,o){e(this,n),r=o,this.slug=t,this.progress=0,console.log("==> LessonPage",t,o)}return t(n,[{key:"isMainPage",get:function(){return r}}]),n}(),a=o;exports.default=a;
},{}],"mUdU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,t,s,n,o,r,a,i,u,l,g,c=v(require("../ProgressTracker")),f=v(require("../Navigation")),d=v(require("../models/Lesson")),p=v(require("../models/LessonPage"));function v(e){return e&&e.__esModule?e:{default:e}}function b(e){return L(e)||h(e)||y(e)||P()}function P(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){if(e){if("string"==typeof e)return m(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?m(e,t):void 0}}function h(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function L(e){if(Array.isArray(e))return m(e)}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=new Array(t);s<t;s++)n[s]=e[s];return n}var _={init:function(){console.log("LessonPage::init");var i=$(".lesson-data").find("[data-is-lesson-main-page]");t=f.default.getPageSlug("lesson"),r=i.data("is-lesson-main-page"),o=this.getMainPageSlug(),console.log("_slug",t),e=c.default.loadProgress(),console.log("loaded _progress",e),c.default.setCurrentLesson(o),c.default.setCurrentLessonPage(t),s=c.default.getActiveCourse(),n=c.default.getCurrentTopic();this.updateLessonProgress();a=this.isLessonInActiveCourse(),this.setupNavigation(),c.default.saveProgress()},getMainPageSlug:function(){return r?t:$("[data-lesson-page]").data("lesson-page")},initialiseLessonPagesData:function(){var e;if(r){var s=new p.default(t,!0);console.log("main_lesson_page",s);var n=$(".lesson-data").find("[data-lesson-page]").map(function(e,t){var s=$(t).data("lesson-page");return new p.default(s,!1)}).get();e=[s].concat(b(n))}else e=[new p.default(t,!1)];return e},updateLessonProgress:function(){var e=new d.default(o,r);console.log("### lesson",e),console.log("### lesson data",e.data);var s=this.initialiseLessonPagesData();e.initialise(s);var n=c.default.getLessonProgress(o);console.log("lesson_progress",n),n=e.sync(n),console.log("=> synced lesson_progress",n),console.log("lesson_progress.pages",n.pages,"find ",t);var a=n.pages.find(function(e){return e.slug===t});return console.log("found page",a),a.progress=1,console.log("lesson_progress",n),n&&c.default.setLessonProgress(o,n),!0,!0},isLessonInActiveCourse:function(){if(console.log("active course",s),s){var e=c.default.getCourseProgress(s);if(e)if(e.lessons)if(e.lessons.find(function(e){return e.slug===o}))return!0}return!1},getLastPageInPreviousLesson:function(){console.log("LessonPageController::getLastPageInPreviousLesson"),console.log("_progress",e);var t=e.active_course,s=e.courses.findIndex(function(e){return e.slug===t}),n=e.courses[s],r=n.lessons.findIndex(function(e){return e.slug===o}),a=n.lessons[r-1];return a?a.last_page?a.last_page:a.slug:null},setupContentsButton:function(){g=i.find('.pagebuttons.w-button[data-button-type="contents"]');var e="/";a?e="/courses/"+s:n&&(e="/topic-level-1/"+n),g.attr("href",e)},setupPrevButton:function(){var e=!1;if("#"===(l=i.find('.pagebuttons.w-button[data-button-type="prev"]')).attr("href")&&(e=!0,a)){var t=this.getLastPageInPreviousLesson();t&&(l.attr("href",t),e=!1)}l.css("visibility",e?"hidden":"visible"),l.removeClass("w-condition-invisible")},setupNextButton:function(){var e=!1;"#"===(u=i.find('.pagebuttons.w-button[data-button-type="next"]')).attr("href")&&(e=!0,a&&s&&(u.attr("href","/courses/"+s),e=!1));u.removeClass("w-condition-invisible"),u.css("visibility",e?"hidden":"visible")},setupNavigation:function(){i=$(".lesson-navigation"),this.setupPrevButton(),this.setupNextButton(),this.setupContentsButton()}},C=_;exports.default=C;
},{"../ProgressTracker":"Dmf6","../Navigation":"yxKm","../models/Lesson":"wY3z","../models/LessonPage":"HZt4"}],"imtx":[function(require,module,exports) {
"use strict";var e=l(require("./pages/PageController")),r=l(require("./pages/TopicPageController")),a=l(require("./pages/CoursePageController")),t=l(require("./pages/LessonPageController")),i=l(require("./ProgressTracker")),o=l(require("./Navigation"));function l(e){return e&&e.__esModule?e:{default:e}}$(function(){console.log("index.js:: jquery ready"),i.default.init(!1);var l=o.default.getPageType();switch(console.log("pageType",l),l){case"course":a.default.init();break;case"lesson":t.default.init();break;case"topic-level-1":r.default.init();break;default:e.default.init()}});
},{"./pages/PageController":"UFLO","./pages/TopicPageController":"FzvI","./pages/CoursePageController":"Y4rh","./pages/LessonPageController":"mUdU","./ProgressTracker":"Dmf6","./Navigation":"yxKm"}]},{},["imtx"], null)