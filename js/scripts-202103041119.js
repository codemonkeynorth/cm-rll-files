parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Dmf6":[function(require,module,exports) {
"use strict";function e(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,n)}return s}function r(r){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?e(Object(o),!0).forEach(function(e){s(r,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function s(e,r,s){return r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n="rll_progress",o=!0,t={active_course:null,current_lesson:null,current_lesson_page:null,courses:[],lessons:[]},u={init:function(e){console.log("ProgressTracker::init"),o=e},getProgress:function(){return t},loadProgress:function(){var e=null,r=localStorage.getItem(n);if(r){if(o){var s=atob(r);e=JSON.parse(s)}else e=JSON.parse(r);t=e}return t},saveProgress:function(){var e;console.log("ProgressTracker::saveProgress",t);var r=JSON.stringify(t);(e=r,o)&&(e=btoa(r));localStorage.setItem("rll_progress",e)},clearProgress:function(){localStorage.removeItem(n)},setProgress:function(e){t=e},updateCourse:function(e){console.log("ProgressTracker::updateCourse",e);var r=t.courses.findIndex(function(r){return r.slug===e.slug});r>-1?t.courses[r]=e.data:t.courses.push(e.data)},getCourseProgress:function(e){var r=t.courses.find(function(r){return r.slug===e});return r||null},setActiveCourse:function(e){t.active_course=e},getActiveCourse:function(){return t.active_course},setCurrentLesson:function(e){console.log("ProgressTracker::setCurrentLesson",e),t.current_lesson=e},getCurrentLesson:function(){return t.current_lesson},setCurrentLessonPage:function(e){console.log("ProgressTracker::setCurrentLessonPage",e),t.current_lesson_page=e},updateLesson:function(e){console.log("ProgressTracker::updateLesson",e.data);var r=t.lessons.findIndex(function(r){return r.slug===e.slug});r>-1?t.lessons[r]=e.data:t.lessons.push(e.data)},setCourseLessonProgressValue:function(e,r,s){console.log("ProgressTracker::setCourseLessonProgress",e,r,s),t.courses.find(function(r){return r.slug===e}).lessons.find(function(e){return e.slug===r}).progress=s},updateLessonProgressTotals:function(e){console.log("ProgressTracker::updateLessonProgressTotals",e);if(e.pages){if(t.lessons){var r=t.lessons.find(function(r){return r.slug===e.slug});if(r){var s=0;if(r.pages.find(function(r){return r.slug===e.slug}))s=r.pages.length;else{var n=t.courses.find(function(r){return r.lessons.find(function(r){return r.slug===e.slug})});if(!n)return;var o=n.lessons.find(function(r){return r.slug===e.slug});if(!o)return;s=o.total_pages}console.log("=> total_pages",s);var u=r.pages.reduce(function(e,r){return e+r.progress},0)/s;r.progress=parseFloat(u),r.total_pages=s}}}},updateCourseProgressTotals:function(e){console.log("ProgressTracker::updateCourseProgressTotals",e.slug);var s=0;if(e.data.lessons)if(e.data.lessons.forEach(function(e){var r=t.lessons.find(function(r){return r.slug===e.slug});if(r){r.pages.length;var n=r.pages.reduce(function(e,r){return e+r.progress},0)/e.total_pages;e.progress=parseFloat(n)}s+=e.progress}),e.lessons){var n=s/e.lessons.length;e.data=r(r({},e.data),{progress:n})}else e.progress=0},getLessonProgress:function(e){console.log("ProgressTracker::getLessonProgress",e);var r=t.lessons.find(function(r){return r.slug===e});return r||null},setCurrentTopic:function(e){t.current_topic=e},getCurrentTopic:function(){return t.current_topic},isItemComplete:function(e,r){var s=!1;switch(e){case"course":var n=t.courses.find(function(e){return e.slug===r});n&&(s=1===n.progress);break;case"lesson":var o=t.lessons.find(function(e){return e.slug===r});o&&(s=1===o.progress)}return s},isLessonInActiveCourse:function(e){var r=t.active_course;if(r){var s=this.getCourseProgress(r);if(null==s?void 0:s.lessons)if(e=s.lessons.find(function(r){return r.slug===e.slug}))return!0}return!1}},c=u;exports.default=c;
},{}],"UFLO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../ProgressTracker"));function r(e){return e&&e.__esModule?e:{default:e}}var t={init:function(){console.log("PageController::init"),e.default.loadProgress(),e.default.setCurrentTopic(null),e.default.setCurrentLesson(null),e.default.setCurrentLessonPage(null),e.default.saveProgress()}},l=t;exports.default=l;
},{"../ProgressTracker":"Dmf6"}],"yxKm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={getPageType:function(){return $("[data-page-type]").data("page-type")},getPageSlug:function(e,t){var a=t;a||(a=window.location.href);var r=a.lastIndexOf("/");return a.substring(r+1,a.length)}},t=e;exports.default=t;
},{}],"pmlh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addCheckMark=exports.markCompleteCards=void 0;var e=r(require("../ProgressTracker")),t=r(require("../Navigation"));function r(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=$("<div />");e.find("a").prepend(t),t.css({display:"inline-block",position:"absolute",bottom:8,right:12,height:16,width:8,borderBottom:"4px solid #78b13f",borderRight:"4px solid #78b13f",transform:"rotate(45deg)",zIndex:1e4})};exports.addCheckMark=a;var o=function(r){r.each(function(r,o){var i=$(o),d=i.closest("[data-list-type]").data("list-type"),s=i.find("a").attr("href"),l=t.default.getPageSlug(d,s);e.default.isItemComplete(d,l)&&a(i)})};exports.markCompleteCards=o;
},{"../ProgressTracker":"Dmf6","../Navigation":"yxKm"}],"phHQ":[function(require,module,exports) {
"use strict";function e(e,t){return t&&t.toObject?t.toObject():t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.jsonStringifyToObjectReplacer=e;
},{}],"S7QN":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=t.get(e);if(!r)throw new TypeError("attempted to get private field on non-instance");return r.get?r.get.call(e):r.value}function a(e,t,r){var n=t.get(e);if(!n)throw new TypeError("attempted to set private field on non-instance");if(n.set)n.set.call(e,r);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=r}return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=new WeakMap,u=new WeakMap,l=function(){function t(){e(this,t),o.set(this,{writable:!0,value:void 0}),u.set(this,{writable:!0,value:"baz"}),n(this,"pub",void 0),a(this,o,"priv"),this.pub="pub"}return r(t,[{key:"foo",value:function(){}},{key:"toObject",value:function(){return{priv:i(this,o),pub:this.pub,nested:this.bar}}},{key:"bar",get:function(){return{bar:i(this,u)}}}]),t}(),f=l;exports.default=f;
},{}],"BOw9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,r,t,o=n(require("../ProgressTracker")),s=require("../helpers/CardHelper"),l=require("../helpers/JSONHelper"),a=n(require("../models/Test"));function n(e){return e&&e.__esModule?e:{default:e}}var u={init:function(){console.log("HomePageController::init"),t=o.default.loadProgress(),o.default.setCurrentTopic(null),o.default.setCurrentLesson(null),o.default.setCurrentLessonPage(null);var e=new a.default;t.test=JSON.parse(JSON.stringify(e,l.jsonStringifyToObjectReplacer)),o.default.saveProgress(),$(document).on("pjax:end",this.onPageReady),this.onPageReady()},onPageReady:function(){r=$(".collection-item-card"),(0,s.markCompleteCards)(r)}},d=u;exports.default=d;
},{"../ProgressTracker":"Dmf6","../helpers/CardHelper":"pmlh","../helpers/JSONHelper":"phHQ","../models/Test":"S7QN"}],"FzvI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,t,r=a(require("../Navigation")),o=a(require("../ProgressTracker")),l=require("../helpers/CardHelper");function a(e){return e&&e.__esModule?e:{default:e}}var u={init:function(){console.log("TopicPageController::init"),e=r.default.getPageSlug("topic-level-1"),console.log("_slug",e),o.default.loadProgress(),o.default.setCurrentTopic(e),o.default.setActiveCourse(null),o.default.setCurrentLesson(null),o.default.setCurrentLessonPage(null),o.default.saveProgress(),$(document).on("pjax:end",this.onPageReady),this.onPageReady()},onPageReady:function(){t=$(".collection-item-card"),(0,l.markCompleteCards)(t)}},s=u;exports.default=s;
},{"../Navigation":"yxKm","../ProgressTracker":"Dmf6","../helpers/CardHelper":"pmlh"}],"jTVB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=e(require("../ProgressTracker"));function e(s){return s&&s.__esModule?s:{default:s}}function o(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function t(s,e){for(var o=0;o<e.length;o++){var t=e[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(s,t.key,t)}}function r(s,e,o){return e&&t(s.prototype,e),o&&t(s,o),s}var n=function(s,e){return console.log("copyCourseProgressToCourseData"),console.log("(loaded) courseProgress",s),console.log("(page) courseData",e),e},u=function(){function e(s){o(this,e),console.log("Course::",s),this.slug=s,this.progress=0,this.lessons=[]}return r(e,[{key:"initialise",value:function(s){this.lessons=s,this.progress=0}},{key:"sync",value:function(e){return e?this.data=e:e=this.data,s.default.updateCourseProgressTotals(this),this.data}},{key:"data",get:function(){return{slug:this.slug,lessons:this.lessons,progress:this.progress}},set:function(s){this.slug=s.slug,this.lessons=s.lessons,this.progress=s.progress}}]),e}(),i=u;exports.default=i;
},{"../ProgressTracker":"Dmf6"}],"HZt4":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}function n(e,t){var r=t.get(e);if(!r)throw new TypeError("attempted to get private field on non-instance");return r.get?r.get.call(e):r.value}function i(e,t,r){var n=t.get(e);if(!n)throw new TypeError("attempted to set private field on non-instance");if(n.set)n.set.call(e,r);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=r}return r}var a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=new WeakMap,o=new WeakMap,l=new WeakMap,u=function(){function t(r,n){e(this,t),s.set(this,{writable:!0,value:void 0}),o.set(this,{writable:!0,value:void 0}),l.set(this,{writable:!0,value:void 0}),i(this,s,n),this.slug=r,this.progress=0}return r(t,[{key:"data",get:function(){return{slug:this.slug,progress:this.progress}},set:function(e){this.slug=e.slug,this.progress=e.progress}},{key:"isMainPage",get:function(){return n(this,s)}}]),t}(),f=u;exports.default=f;
},{}],"wY3z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("./LessonPage"));function s(e){return e&&e.__esModule?e:{default:e}}function t(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function n(e,s){for(var t=0;t<s.length;t++){var n=s[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,s,t){return s&&n(e.prototype,s),t&&n(e,t),e}function r(e,s){var t=s.get(e);if(!t)throw new TypeError("attempted to get private field on non-instance");return t.get?t.get.call(e):t.value}function a(e,s,t){var n=s.get(e);if(!n)throw new TypeError("attempted to set private field on non-instance");if(n.set)n.set.call(e,t);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=t}return t}var i=function(s,t){var n;return console.log("Lesson::copyLessonProgressToData(lessonProgress)",JSON.parse(JSON.stringify(s))),null===(n=s.pages)||void 0===n||n.forEach(function(n,o){console.log("find lessonData page whre slug is",n.slug),console.log("lessonData",JSON.parse(JSON.stringify(t)));t.pages.findIndex(function(e){return e.slug===n.slug});var r=t.pages.find(function(e){return e.slug===n.slug});if(r)r.progress=n.progress||0;else{var a=n.slug===s.slug,i=new e.default(n.slug,a);i.progress=n.progress||0,t.pages.push(i)}}),t.total_pages=s.total_pages,t},l=function(e,s){return console.log("Lesson::copyDataToLessonProgress",JSON.parse(JSON.stringify(e)),JSON.parse(JSON.stringify(s))),e.pages.forEach(function(e,t){var n=s.pages.find(function(s){return s.slug===e.slug});n?n.progress=e.progess:s.pages.push({slug:e.slug,progress:e.progress})}),s},g=new WeakMap,u=function(){function e(s,n){t(this,e),g.set(this,{writable:!0,value:void 0}),console.log("Lesson::",s,n),a(this,g,n),this.slug=s,this.progress=0,this.pages=[],this.total_pages=null}return o(e,[{key:"initialise",value:function(e){console.log("Lesson::initialise",e),this.pages=e,r(this,g)&&(this.total_pages=e.length)}},{key:"view",value:function(e){console.log("Lesson::view",e),this.pages.find(function(s){return s.slug===e}).progress=1}},{key:"sync",value:function(e){console.log("Lesson::sync",e),e&&(this.data=i(e,this.data),e=l(this.data,e))}},{key:"data",get:function(){return{slug:this.slug,progress:this.progress,pages:this.pages,total_pages:this.total_pages}},set:function(e){this.slug=e.slug,this.progress=e.progress,this.pages=e.pages,this.total_pages=e.total_pages}}]),e}(),p=u;exports.default=p;
},{"./LessonPage":"HZt4"}],"Y4rh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,t,s,r,o=i(require("../Navigation")),n=i(require("../ProgressTracker")),a=i(require("../models/Course")),l=i(require("../models/Lesson"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach(function(t){d(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function d(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var g={initialiseLessonData:function(){return r.map(function(e,t){var s=$(t),r=o.default.getPageSlug("lesson",s.attr("href")),n=s.closest(".w-dyn-item"),a=n.find(".lesson-data").find("[data-lesson-page-slug]"),l=n.find(".lesson-data-extra").find("[data-last-page-in-lesson]");a.data("lesson-page-slug");return{slug:r,total_pages:a.data("lesson-page-total")||1,progress:0,last_page:l.data("last-page-in-lesson")}}).get()},updateCourseProgress:function(){var t=new a.default(e),r=this.initialiseLessonData();t.initialise(r),t.sync(s),console.log("course",t),n.default.updateCourse(t),console.log("=> updated course",t),console.log("===================================="),t.lessons.forEach(function(e){console.log("course_lesson",e);var t=new l.default(e.slug,!0);console.log("lesson",t),t.data=c(c({},t.data),e),console.log("=> lesson",t),n.default.updateLessonProgressTotals(t)}),console.log("====================================")},addProgressCircle:function(e,t){var s=e.parent().prev(".lesson-icon-container"),r=$("<div />");s.prepend(r);r.css({width:"calc(100% + ".concat(20,"px)"),height:"calc(100% + ".concat(20,"px)"),position:"absolute",left:"-".concat(10,"px"),top:"-".concat(10,"px")});var o={value:t,size:r[0].clientWidth,fill:1===t?"#95D03A":"#3898EC",startAngle:1.5*Math.PI};1===t&&(o.animation=!1),r.circleProgress(o)},addCheckMark:function(e){var t=e.closest(".lesson-link-container"),s=$("<div />");t.prepend(s),s.css({display:"inline-block",position:"absolute",top:14,right:16,height:24,width:12,borderBottom:"4px solid #78b13f",borderRight:"4px solid #78b13f",transform:"rotate(45deg)"})},addProgressMarks:function(){var e=this,t=0;r.each(function(r,n){var a,l=$(n),i=o.default.getPageSlug("lesson",l.attr("href"));if(null===(a=s)||void 0===a?void 0:a.lessons){var u=s.lessons.find(function(e){return e.slug===i});u&&(t=u.progress)}e.addProgressCircle(l,t),1===t&&e.addCheckMark(l)})},init:function(){console.log("CoursePageController::init"),e=o.default.getPageSlug("course"),r=$(".courselink1"),n.default.loadProgress(),n.default.setCurrentLesson(null),n.default.setCurrentLessonPage(null),n.default.setCurrentTopic(null),n.default.setActiveCourse(e),this.updateCourseProgress(),n.default.saveProgress(),s=n.default.getCourseProgress(e),this.addProgressMarks()}},f=g;exports.default=f;
},{"../Navigation":"yxKm","../ProgressTracker":"Dmf6","../models/Course":"jTVB","../models/Lesson":"wY3z"}],"mUdU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,t,s,n,o,r,a,i,u,l,d,g,c,f,p,v,P,b=C(require("../ProgressTracker")),L=C(require("../Navigation")),y=C(require("../models/Lesson")),h=C(require("../models/LessonPage")),m=C(require("../models/Course"));function C(e){return e&&e.__esModule?e:{default:e}}function w(e){return A(e)||x(e)||_(e)||I()}function I(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){if(e){if("string"==typeof e)return S(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?S(e,t):void 0}}function x(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function A(e){if(Array.isArray(e))return S(e)}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=new Array(t);s<t;s++)n[s]=e[s];return n}var T=!1,B={init:function(){console.log("LessonPageController::init"),l=$(".lesson-data"),d=l.find("[data-is-lesson-main-page]"),P=$(".video"),(v=P.find(".embedly-embed")).length&&(T=!0),n=L.default.getPageSlug("lesson"),i=d.data("is-lesson-main-page"),a=this.getMainPageSlug(),e=b.default.loadProgress(),o=b.default.getActiveCourse(),r=b.default.getCurrentTopic(),s=b.default.getLessonProgress(a),b.default.setCurrentLesson(a),b.default.setCurrentLessonPage(n);var g=this.initialiseLessonPagesData();(t=new y.default(a,i)).initialise(g),t.sync(s),u=b.default.isLessonInActiveCourse(t),this.setupNavigation(),this.updateLessonProgress(t,!T),this.updateCoursesProgressFromLesson(t),b.default.saveProgress(),T&&this.setupVideo(v)},YouTubeGetID:function(e){return void 0!==(e=e.split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2]?e[2].split(/[^0-9a-z_\-]/i)[0]:e[0]},setupVideo:function(e){var s=this,n=e.attr("src");console.log("src",n);var o=decodeURIComponent(n),r=new URL("http:"+o),a=new URLSearchParams(r.search).get("src"),i=this.YouTubeGetID(a);console.log("new_src",a,i),P.css("padding-top","");e.parent().prepend('<div id="plyr" data-plyr-provider="youtube" data-plyr-embed-id="'.concat(i,'"></div>'));e.remove();var u=new Plyr("#plyr",{}),l=!1;u.on("playing",function(){$(".plyr__poster").css({zIndex:-1}),l||(s.updateLessonProgress(t,!0),s.updateCoursesProgressFromLesson(t),b.default.saveProgress(),l=!0)})},getMainPageSlug:function(){return i?n:$("[data-lesson-page]").data("lesson-page")},initialiseLessonPagesData:function(){var e;if(console.log("LessonPageController::initialiseLessonPagesData"),i){var t=new h.default(n,!0),s=$(".lesson-data").find("[data-lesson-page]").map(function(e,t){var s=$(t).data("lesson-page");return new h.default(s,!1)}).get();e=[t].concat(w(s))}else e=[new h.default(n,!1)];return e},updateCoursesProgressFromLesson:function(t){var s;console.log("LessonPageController::updateCoursesProgressFromLesson");var n=t.data;(null==n?void 0:n.pages)&&(null===(s=e)||void 0===s?void 0:s.courses)&&e.courses.filter(function(e){return e.lessons.find(function(e){return e.slug===a})}).forEach(function(e){var t=new m.default(e.slug);t.data=e,b.default.updateCourseProgressTotals(t),b.default.updateCourse(t)})},updateLessonProgress:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];console.log("LessonPageController::updateLessonProgress",e),t&&e.view(n),b.default.updateLesson(e),b.default.updateLessonProgressTotals(e)},getLastPageInPreviousLesson:function(){console.log("LessonPageController::getLastPageInPreviousLesson");var t=e.active_course,s=e.courses.findIndex(function(e){return e.slug===t}),n=e.courses[s],o=n.lessons.findIndex(function(e){return e.slug===a}),r=n.lessons[o-1];return r?r.last_page?r.last_page:r.slug:null},setupContentsButton:function(){p=g.find('.pagebuttons.w-button[data-button-type="contents"]');var e="/";u?e="/courses/"+o:r&&(e="/topic-level-1/"+r),p.attr("href",e)},setupPrevButton:function(){var e=!1;if("#"===(f=g.find('.pagebuttons.w-button[data-button-type="prev"]')).attr("href")&&(e=!0,u)){var t=this.getLastPageInPreviousLesson();t&&(f.attr("href",t),e=!1)}f.css("visibility",e?"hidden":"visible"),f.removeClass("w-condition-invisible")},setupNextButton:function(){var e=!1;"#"===(c=g.find('.pagebuttons.w-button[data-button-type="next"]')).attr("href")&&(e=!0,u&&o&&(c.attr("href","/courses/"+o),e=!1));c.removeClass("w-condition-invisible"),c.css("visibility",e?"hidden":"visible")},setupNavigation:function(){g=$(".lesson-navigation"),this.setupPrevButton(),this.setupNextButton(),this.setupContentsButton()}},j=B;exports.default=j;
},{"../ProgressTracker":"Dmf6","../Navigation":"yxKm","../models/Lesson":"wY3z","../models/LessonPage":"HZt4","../models/Course":"jTVB"}],"svLS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,r,t=l(require("../Navigation")),o=l(require("../ProgressTracker")),a=require("../helpers/CardHelper");function l(e){return e&&e.__esModule?e:{default:e}}var n={init:function(){console.log("SearchPageController::init"),e=t.default.getPageSlug("search-for-content"),console.log("_slug",e),o.default.loadProgress(),o.default.setCurrentTopic(e),o.default.setActiveCourse(null),o.default.setCurrentLesson(null),o.default.setCurrentLessonPage(null),o.default.saveProgress(),$(document).on("pjax:end",this.onPageReady),this.onPageReady()},onPageReady:function(){r=$(".collection-item-card"),(0,a.markCompleteCards)(r)}},s=n;exports.default=s;
},{"../Navigation":"yxKm","../ProgressTracker":"Dmf6","../helpers/CardHelper":"pmlh"}],"imtx":[function(require,module,exports) {
"use strict";var e=u(require("./pages/PageController")),r=u(require("./pages/HomePageController")),a=u(require("./pages/TopicPageController")),t=u(require("./pages/CoursePageController")),i=u(require("./pages/LessonPageController")),l=u(require("./pages/SearchPageController")),o=u(require("./ProgressTracker")),s=u(require("./Navigation"));function u(e){return e&&e.__esModule?e:{default:e}}$(function(){switch(console.log("index.js:: jquery ready"),o.default.init(!1),s.default.getPageType()){case"home":r.default.init();break;case"course":t.default.init();break;case"lesson":i.default.init();break;case"topic-level-1":a.default.init();break;case"search":l.default.init();break;case"clear-data":o.default.clearProgress();break;default:e.default.init()}});
},{"./pages/PageController":"UFLO","./pages/HomePageController":"BOw9","./pages/TopicPageController":"FzvI","./pages/CoursePageController":"Y4rh","./pages/LessonPageController":"mUdU","./pages/SearchPageController":"svLS","./ProgressTracker":"Dmf6","./Navigation":"yxKm"}]},{},["imtx"], null)